<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dw__Func (read-dwarf.Dw__Func)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">read-dwarf</a> &#x00BB; Dw__Func</nav><h1>Module <code>Dw__Func</code></h1><p>This module contain all the definition to handle functions as defined in the DWARF information of the target file</p></header><dl><dt class="spec type" id="type-func"><a href="#type-func" class="anchor"></a><code><span class="keyword">type</span> func</code><code> = </code><code>{</code><table class="record"><tr id="type-func.name" class="anchored"><td class="def field"><a href="#type-func.name" class="anchor"></a><code>name : string;</code></td></tr><tr id="type-func.scope" class="anchored"><td class="def field"><a href="#type-func.scope" class="anchor"></a><code>scope : <a href="index.html#type-scope">scope</a>;</code></td></tr><tr id="type-func.ret" class="anchored"><td class="def field"><a href="#type-func.ret" class="anchor"></a><code>ret : <span><a href="../Ctype/index.html#type-t">Ctype.t</a> option</span>;</code></td></tr></table><code>}</code></dt><dd><p>Type of a dwarf function that may or may not be inlined</p><p>If this type stand on its own, then it is inlined. If it is inside a <a href="index.html#type-t"><code>t</code></a> then it's a top level function. There is no separate type for inline functions because they do not have any special data that a top level function may not have</p></dd></dl><dl><dt class="spec type" id="type-scope"><a href="#type-scope" class="anchor"></a><code><span class="keyword">and</span> scope</code><code> = </code><code>{</code><table class="record"><tr id="type-scope.vars" class="anchored"><td class="def field"><a href="#type-scope.vars" class="anchor"></a><code>vars : <span><a href="../Dw/Var/index.html#type-t">Dw.Var.t</a> list</span>;</code></td></tr><tr id="type-scope.funcs" class="anchored"><td class="def field"><a href="#type-scope.funcs" class="anchor"></a><code>funcs : <span><a href="index.html#type-func">func</a> list</span>;</code></td></tr><tr id="type-scope.scopes" class="anchored"><td class="def field"><a href="#type-scope.scopes" class="anchor"></a><code>scopes : <span><a href="index.html#type-scope">scope</a> list</span>;</code></td></tr></table><code>}</code></dt><dd><p>Type of a dwarf scope that may contain recursively other data. The lists here have the semantic meaning of sets: the order is irrelevant.</p></dd></dl><dl><dt class="spec type" id="type-linksem_func"><a href="#type-linksem_func" class="anchor"></a><code><span class="keyword">type</span> linksem_func</code><code> = Dwarf.sdt_subroutine</code></dt><dd><p>This is the type a dwarf function in linksem</p></dd></dl><dl><dt class="spec type" id="type-linksem_scope"><a href="#type-linksem_scope" class="anchor"></a><code><span class="keyword">type</span> linksem_scope</code><code> = Dwarf.sdt_lexical_block</code></dt><dd><p>This is the type a dwarf scope in linksem</p></dd></dl><dl><dt class="spec value" id="val-func_of_linksem"><a href="#val-func_of_linksem" class="anchor"></a><code><span class="keyword">val</span> func_of_linksem : <a href="../Elf/File/index.html#type-t">Elf.File.t</a> <span>&#45;&gt;</span> <a href="../Ctype/index.html#type-env">Ctype.env</a> <span>&#45;&gt;</span> <a href="index.html#type-linksem_func">linksem_func</a> <span>&#45;&gt;</span> <a href="index.html#type-func">func</a></code></dt><dd><p>Create a Dwarf function from its linksem counterpart</p></dd></dl><dl><dt class="spec value" id="val-scope_of_linksem"><a href="#val-scope_of_linksem" class="anchor"></a><code><span class="keyword">val</span> scope_of_linksem : <a href="../Elf/File/index.html#type-t">Elf.File.t</a> <span>&#45;&gt;</span> <a href="../Ctype/index.html#type-env">Ctype.env</a> <span>&#45;&gt;</span> <a href="index.html#type-linksem_scope">linksem_scope</a> <span>&#45;&gt;</span> <a href="index.html#type-scope">scope</a></code></dt><dd><p>Create and Dwarf scope from its linksem counterpart</p></dd></dl><dl><dt class="spec value" id="val-func_get_api"><a href="#val-func_get_api" class="anchor"></a><code><span class="keyword">val</span> func_get_api : <a href="index.html#type-func">func</a> <span>&#45;&gt;</span> <a href="../Arch/index.html#type-func_api">Arch.func_api</a></code></dt><dd><p>Get the API of the function</p></dd></dl><dl><dt class="spec value" id="val-pp_raw_func"><a href="#val-pp_raw_func" class="anchor"></a><code><span class="keyword">val</span> pp_raw_func : <a href="index.html#type-func">func</a> <span>&#45;&gt;</span> <a href="../Utils/index.html#module-Pp">Utils.Pp</a>.OCaml.representation</code></dt><dt class="spec value" id="val-pp_raw_scope"><a href="#val-pp_raw_scope" class="anchor"></a><code><span class="keyword">val</span> pp_raw_scope : <a href="index.html#type-scope">scope</a> <span>&#45;&gt;</span> <a href="../Utils/index.html#module-Pp">Utils.Pp</a>.OCaml.representation</code></dt></dl><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code><code> = </code><code>{</code><table class="record"><tr id="type-t.sym" class="anchored"><td class="def field"><a href="#type-t.sym" class="anchor"></a><code>sym : <span><a href="../Elf/Symbol/index.html#type-t">Elf.Symbol.t</a> option</span>;</code></td></tr><tr id="type-t.func" class="anchored"><td class="def field"><a href="#type-t.func" class="anchor"></a><code>func : <a href="index.html#type-func">func</a>;</code></td></tr></table><code>}</code></dt><dd><p>This the type of a top-level function. It may have an associated elf symbol</p><p>This type will contain all necessary indexes for function-wide fast access to relevant dwarf information.</p></dd></dl><dl><dt class="spec type" id="type-linksem_t"><a href="#type-linksem_t" class="anchor"></a><code><span class="keyword">type</span> linksem_t</code><code> = Dwarf.sdt_subroutine</code></dt><dd><p>This is the type a dwarf top_level function in linksem</p></dd></dl><dl><dt class="spec value" id="val-of_linksem"><a href="#val-of_linksem" class="anchor"></a><code><span class="keyword">val</span> of_linksem : <a href="../Elf/File/index.html#type-t">Elf.File.t</a> <span>&#45;&gt;</span> <a href="../Ctype/index.html#type-env">Ctype.env</a> <span>&#45;&gt;</span> <a href="index.html#type-linksem_t">linksem_t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Create a dwarf top level function from its Linksem counterpart. The ELF file is to get a potential matching symbol. For now the matching is made with name and then code address, but perhaps the code using this should be rephrased in terms of addresses instead of symbols, to be more resilient</p></dd></dl><dl><dt class="spec value" id="val-get_api"><a href="#val-get_api" class="anchor"></a><code><span class="keyword">val</span> get_api : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Arch/index.html#type-func_api">Arch.func_api</a></code></dt><dd><p>Get the API of a top level function</p></dd></dl><dl><dt class="spec value" id="val-pp_raw"><a href="#val-pp_raw" class="anchor"></a><code><span class="keyword">val</span> pp_raw : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dd><p>Pretty print a raw top level function</p></dd></dl></div></body></html>