<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cache (read-dwarf.Isla.Cache)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">read-dwarf</a> &#x00BB; <a href="../index.html">Isla</a> &#x00BB; Cache</nav><h1>Module <code>Isla.Cache</code></h1><p>This module provide a caching system for isla trace on top of <a href="../Server/index.html"><code>Server</code></a>.</p><p>It uses the cache named &quot;isla&quot; of <a href="index.html"><code>Cache</code></a></p><p>Call <a href="index.html#val-start"><code>start</code></a> to start and <a href="index.html#val-stop"><code>stop</code></a>. Do not interact directly with the <a href="../Server/index.html"><code>Server</code></a> if you use the cache.</p><p>You can use <a href="index.html#val-ensure_started"><code>ensure_started</code></a> to force the <a href="../Server/index.html"><code>Server</code></a> to start but you probably shouldn't do that. By the default the <a href="../Server/index.html"><code>Server</code></a> is only started if the traces of an instruction are required and not in the cache.</p></header><dl><dt class="spec type" id="type-config"><a href="#type-config" class="anchor"></a><code><span class="keyword">type</span> config</code><code> = <a href="../Server/index.html#type-config">Server.config</a></code></dt><dd><p>The type of Isla configuration</p></dd></dl><dl><dt class="spec module" id="module-Opcode"><a href="#module-Opcode" class="anchor"></a><code><span class="keyword">module</span> <a href="Opcode/index.html">Opcode</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Implementation of <span class="xref-unresolved" title="unresolved reference to &quot;Cache.Key&quot;"><a href="../index.html#module-Cache"><code>Cache</code></a>.Key</span> for opcodes.</p></dd></dl><dl><dt class="spec module" id="module-TraceList"><a href="#module-TraceList" class="anchor"></a><code><span class="keyword">module</span> <a href="TraceList/index.html">TraceList</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Representation of trace lists on disk.</p></dd></dl><dl><dt class="spec value" id="val-epoch"><a href="#val-epoch" class="anchor"></a><code><span class="keyword">val</span> epoch : int</code></dt><dd><p>An epoch independant of the isla version, bump if you change the representation of the traces on disk.</p><p>Reset (or not) when bumping isla version (<a href="../Server/index.html#val-required_version"><code>Server.required_version</code></a>)</p><p>The Epoch also include the digest of the Isla configuration. Any change of configuration will wipe out the cache.</p></dd></dl><div class="spec module" id="module-Epoch"><a href="#module-Epoch" class="anchor"></a><code><span class="keyword">module</span> <a href="Epoch/index.html">Epoch</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec module" id="module-IC"><a href="#module-IC" class="anchor"></a><code><span class="keyword">module</span> <a href="IC/index.html">IC</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>The isla cache module</p></dd></dl><dl><dt class="spec value" id="val-cache"><a href="#val-cache" class="anchor"></a><code><span class="keyword">val</span> cache : <span><span><span>(<a href="IC/index.html#type-t">IC.t</a> * <a href="index.html#type-config">config</a>)</span> option</span> Stdlib.ref</span></code></dt><dd><p>This varaible stores the cache RAM representation</p></dd></dl><dl><dt class="spec value" id="val-configr"><a href="#val-configr" class="anchor"></a><code><span class="keyword">val</span> configr : <span><span><a href="index.html#type-config">config</a> option</span> Stdlib.ref</span></code></dt><dd><p>If this is set and cache is also set, then the server should be started with the architecture inside this variable when required</p></dd></dl><dl><dt class="spec value" id="val-start"><a href="#val-start" class="anchor"></a><code><span class="keyword">val</span> start : <a href="index.html#type-config">config</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Start the caching system. Do not yet start the server</p></dd></dl><dl><dt class="spec value" id="val-stop"><a href="#val-stop" class="anchor"></a><code><span class="keyword">val</span> stop : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Stop the caching system, stop the server if it was started</p></dd></dl><dl><dt class="spec value" id="val-ensure_started"><a href="#val-ensure_started" class="anchor"></a><code><span class="keyword">val</span> ensure_started : unit <span>&#45;&gt;</span> unit</code></dt><dd><p>Start the server if not already started</p></dd></dl><dl><dt class="spec value" id="val-get_cache"><a href="#val-get_cache" class="anchor"></a><code><span class="keyword">val</span> get_cache : unit <span>&#45;&gt;</span> <a href="IC/index.html#type-t">IC.t</a> * <a href="index.html#type-config">config</a></code></dt><dd><p>Get the cache and fails if the cache wasn't started</p></dd></dl><dl><dt class="spec value" id="val-get_traces"><a href="#val-get_traces" class="anchor"></a><code><span class="keyword">val</span> get_traces : <a href="../../Utils/BytesSeq/index.html#type-t">Utils.BytesSeq.t</a> <span>&#45;&gt;</span> <span><a href="../Base/index.html#type-rtrc">Base.rtrc</a> list</span></code></dt><dd><p>Get the traces of the opcode given. Use <a href="../Server/index.html"><code>Server</code></a> if the value is not in the cache</p></dd></dl><dl><dt class="spec value" id="val-get_nop"><a href="#val-get_nop" class="anchor"></a><code><span class="keyword">val</span> get_nop : unit <span>&#45;&gt;</span> <a href="../Base/index.html#type-rtrc">Base.rtrc</a></code></dt><dd><p>Get the traces of the nop opcode (The initialization code). Use <a href="../Server/index.html"><code>Server</code></a> if the value is not in the cache</p></dd></dl></div></body></html>