<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Run (read-dwarf.Isla.Run)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">read-dwarf</a> &#x00BB; <a href="../index.html">Isla</a> &#x00BB; Run</nav><h1>Module <code>Isla.Run</code></h1><p>This module provide facility to run <a href="../index.html"><code>Isla</code></a> trace over <a href="../../State/index.html"><span>states</span></a></p><p>The main functions are <a href="index.html#val-trc"><code>trc</code></a> for pure interface and <a href="index.html#val-trc_mut"><code>trc_mut</code></a> for imperative interface.</p><p><a href="index.html#exception-RunError"><code>RunError</code></a> will be thrown when something goes wrong.</p><p>It is for testing purpose only, otherwise use <a href="../../Trace/Run/index.html"><code>Trace.Run</code></a>. Typing does not work, and some other expected behavior may not work either.</p><p>This module can be considered deprecated/legacy.</p></header><dl><dt class="spec exception" id="exception-RunError"><a href="#exception-RunError" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">RunError</span> <span class="keyword">of</span> <a href="../../Isla__/index.html#module-Base">Isla__.Base</a>.lrng * string</code></dt><dd><p>Exception that represent an Isla runtime error which should not happen</p></dd></dl><dl><dt class="spec value" id="val-run_error"><a href="#val-run_error" class="anchor"></a><code><span class="keyword">val</span> run_error : <a href="../../Isla__/index.html#module-Base">Isla__.Base</a>.lrng <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, unit, string, <span class="type-var">'b</span>)</span> Stdlib.format4</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Throw a run error with the string part as formated by the format string</p></dd></dl><dl><dt class="spec type" id="type-value_context"><a href="#type-value_context" class="anchor"></a><code><span class="keyword">type</span> value_context</code><code> = <span><a href="../../State/index.html#type-exp">State.exp</a> <a href="../../Utils/HashVector/index.html#type-t">Utils.HashVector.t</a></span></code></dt><dd><p>The contex of value that associate isla variable numbers to state expression</p></dd></dl><dl><dt class="spec value" id="val-get_var"><a href="#val-get_var" class="anchor"></a><code><span class="keyword">val</span> get_var : <a href="../../Isla__/index.html#module-Base">Isla__.Base</a>.lrng <span>&#45;&gt;</span> <span><a href="../../State__Base/Exp/index.html#type-t">State.Exp.t</a> <a href="../../Utils/HashVector/index.html#type-t">Utils.HashVector.t</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="../../State__Base/Exp/index.html#type-t">State.Exp.t</a></code></dt><dd><p>Get the expression associated to the free variable. Throw <a href="index.html#exception-RunError"><code>RunError</code></a>, if the variable is no bound. The <a href="../index.html#type-lrng"><code>lrng</code></a> is for error reporting.</p></dd></dl><dl><dt class="spec value" id="val-exp_conv_subst"><a href="#val-exp_conv_subst" class="anchor"></a><code><span class="keyword">val</span> exp_conv_subst : <a href="index.html#type-value_context">value_context</a> <span>&#45;&gt;</span> <a href="../Base/index.html#type-rexp">Base.rexp</a> <span>&#45;&gt;</span> <a href="../../State/index.html#type-exp">State.exp</a></code></dt><dd><p>Convert an <a href="../index.html"><code>Isla</code></a> expression to an <a href="../../Ast/index.html"><code>Ast</code></a> by substituing all free variable with the bound expression in the <a href="index.html#type-value_context"><code>value_context</code></a>.</p><p>If a variable is not bound, throw <a href="index.html#exception-RunError"><code>RunError</code></a></p></dd></dl><dl><dt class="spec value" id="val-exp_of_valu"><a href="#val-exp_of_valu" class="anchor"></a><code><span class="keyword">val</span> exp_of_valu : <a href="../../Isla__/index.html#module-Base">Isla__.Base</a>.lrng <span>&#45;&gt;</span> <span><a href="../../State__Base/Exp/index.html#type-t">State.Exp.t</a> <a href="../../Utils/HashVector/index.html#type-t">Utils.HashVector.t</a></span> <span>&#45;&gt;</span> <a href="../../Isla__/index.html#module-Base">Isla__.Base</a>.valu <span>&#45;&gt;</span> <a href="../../State/index.html#type-exp">State.exp</a></code></dt><dd><p>Give the <a href="../../State/index.html#type-exp"><code>State.exp</code></a> that represents the input <a href="../index.html#type-valu"><code>valu</code></a>.</p><p>A symbolic variable i is represented by the expression bound to it in the provided <a href="index.html#type-value_context"><code>value_context</code></a>.</p><p>Newly created expression are located with the provided <a href="../index.html#type-lrng"><code>lrng</code></a>.</p><p>If the value is not convertible to a state expression, throw a <a href="index.html#exception-RunError"><code>RunError</code></a></p></dd></dl><dl><dt class="spec value" id="val-write_to_var"><a href="#val-write_to_var" class="anchor"></a><code><span class="keyword">val</span> write_to_var : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../../Utils/HashVector/index.html#type-t">Utils.HashVector.t</a></span> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>This function write an expression to symbolic variable. The write is ignored if the variable was already set because isla guarantee that it would be the same value (Trusting Isla here)</p></dd></dl><dl><dt class="spec value" id="val-write_to_valu"><a href="#val-write_to_valu" class="anchor"></a><code><span class="keyword">val</span> write_to_valu : <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="../../Utils/HashVector/index.html#type-t">Utils.HashVector.t</a></span> <span>&#45;&gt;</span> <a href="../../Isla__/index.html#module-Base">Isla__.Base</a>.valu <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>This function write an expression to an <a href="../index.html#type-valu"><code>valu</code></a>.</p><p>If the valu is a variable, it is added to the context, otherwise nothing happens.</p></dd></dl><dl><dt class="spec value" id="val-event_mut"><a href="#val-event_mut" class="anchor"></a><code><span class="keyword">val</span> event_mut : <a href="index.html#type-value_context">value_context</a> <span>&#45;&gt;</span> <a href="../../State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> <a href="../Base/index.html#type-revent">Base.revent</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Run an event on <a href="../../State/index.html#type-t"><code>State.t</code></a> and a <a href="index.html#type-value_context"><code>value_context</code></a> by mutating both</p></dd></dl><dl><dt class="spec value" id="val-trc_mut"><a href="#val-trc_mut" class="anchor"></a><code><span class="keyword">val</span> trc_mut : <span>?&#8288;vc:<span><a href="../../State/index.html#type-exp">State.exp</a> <a href="../../Utils/HashVector/index.html#type-t">Utils.HashVector.t</a></span></span> <span>&#45;&gt;</span> <a href="../../State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> <a href="../Base/index.html#type-rtrc">Base.rtrc</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>This function run an isla trace on a state by mutation. If a <code>vc</code> is provided, then it is used and mutated according to the trace.</p><p>Any encountered branch are ignored and their assertion are added to the state</p></dd></dl><dl><dt class="spec value" id="val-trc"><a href="#val-trc" class="anchor"></a><code><span class="keyword">val</span> trc : <a href="../../State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> <a href="../Base/index.html#type-rtrc">Base.rtrc</a> <span>&#45;&gt;</span> <a href="../../State/index.html#type-t">State.t</a></code></dt><dd><p>This function run an isla trace on a state and return the end state as a new state</p><p>It is just a wrapper of <code>run_trc_mut</code> that remove the imperative interface The new state is fresh and locked.</p></dd></dl></div></body></html>