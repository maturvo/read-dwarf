<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Map (read-dwarf.State.Reg.Map)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">read-dwarf</a> &#x00BB; <a href="../../index.html">State</a> &#x00BB; <a href="../index.html">Reg</a> &#x00BB; Map</nav><h1>Module <code>Reg.Map</code></h1><p>This module provide a full map over register in the same way than <a href="../../../Utils/FullVec/index.html"><code>FullVec</code></a> provide a map of integers. It still need a generator to generate the value bound to not-yet-added registers.</p><p>Because the domain of registers is finite, some extra function are available like <a href="index.html#val-iter"><code>iter</code></a> and <a href="index.html#val-iteri"><code>iteri</code></a> that are not possible in <a href="../../../Utils/FullVec/index.html"><code>FullVec</code></a>.</p><p>If a register is added with <a href="../index.html#val-add"><code>add</code></a>, it is automatically and implicitly added to the <span class="xref-unresolved" title="unresolved reference to &quot;Utils.Map&quot;"><a href="../../../Utils/index.html"><code>Utils</code></a>.Map</span> and the generator must accept this new value. The generator will never be called on invalid register values (i.e. when the generator is called on a register, the former can get the latter's type and name with <a href="../index.html#val-reg_type"><code>reg_type</code></a> and <a href="../index.html#val-to_string"><code>to_string</code></a>)</p></header><dl><dt class="spec type" id="type-reg"><a href="#type-reg" class="anchor"></a><code><span class="keyword">type</span> reg</code><code> = <a href="../index.html#type-t">t</a></code></dt><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> <span>'a t</span></code></dt><dd><p>The type of the complete map</p></dd></dl><dl><dt class="spec value" id="val-init"><a href="#val-init" class="anchor"></a><code><span class="keyword">val</span> init : <span>(<a href="index.html#type-reg">reg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Initialize the map with a generator</p></dd></dl><dl><dt class="spec value" id="val-reinit"><a href="#val-reinit" class="anchor"></a><code><span class="keyword">val</span> reinit : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span>(<a href="index.html#type-reg">reg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Clear the map and restart with this generator</p></dd></dl><dl><dt class="spec value" id="val-copy"><a href="#val-copy" class="anchor"></a><code><span class="keyword">val</span> copy : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Make a copy of the map</p></dd></dl><dl><dt class="spec value" id="val-set"><a href="#val-set" class="anchor"></a><code><span class="keyword">val</span> set : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-reg">reg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Set the value of a register</p></dd></dl><dl><dt class="spec value" id="val-get"><a href="#val-get" class="anchor"></a><code><span class="keyword">val</span> get : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="index.html#type-reg">reg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Get the value of a register</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-t">t</a></span></code></dt><dd><p>Map the function all the registers (including future, not yet added ones)</p></dd></dl><dl><dt class="spec value" id="val-map_mut"><a href="#val-map_mut" class="anchor"></a><code><span class="keyword">val</span> map_mut : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Map the function on all the register by mutation (including future ones)</p></dd></dl><dl><dt class="spec value" id="val-map_mut_current"><a href="#val-map_mut_current" class="anchor"></a><code><span class="keyword">val</span> map_mut_current : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Map the function on all current register. Future registers are unchanged</p></dd></dl><dl><dt class="spec value" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span class="keyword">val</span> iter : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Iterate over all the value of all currently present registers</p></dd></dl><dl><dt class="spec value" id="val-iteri"><a href="#val-iteri" class="anchor"></a><code><span class="keyword">val</span> iteri : <span>(<a href="index.html#type-reg">reg</a> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <a href="index.html#val-iter"><code>iter</code></a> but also with the register index</p></dd></dl><dl><dt class="spec value" id="val-bindings"><a href="#val-bindings" class="anchor"></a><code><span class="keyword">val</span> bindings : <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-reg">reg</a> * <span class="type-var">'a</span>)</span> list</span></code></dt><dd><p>Give all the registers bindings</p></dd></dl><dl><dt class="spec value" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span class="keyword">val</span> pp : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="../../../Utils/index.html#module-Pp">Utils.Pp</a>.document)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-t">t</a></span> <span>&#45;&gt;</span> <a href="../../../Utils/index.html#module-Pp">Utils.Pp</a>.document</code></dt><dd><p>Contrary to <span class="xref-unresolved" title="unresolved reference to &quot;Utils.FullVector.pp&quot;"><span class="xref-unresolved" title="unresolved reference to &quot;Utils.FullVector&quot;"><a href="../../../Utils/index.html"><code>Utils</code></a>.FullVector</span>.pp</span>, this one will print the binding of all registers, and may call the generator to do that</p></dd></dl></div></body></html>