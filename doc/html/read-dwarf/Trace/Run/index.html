<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Run (read-dwarf.Trace.Run)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../index.html">read-dwarf</a> &#x00BB; <a href="../index.html">Trace</a> &#x00BB; Run</nav><h1>Module <code>Trace.Run</code></h1><p>This module is for running trace from <a href="../index.html"><code>Trace</code></a> like <a href="../../Isla/Run/index.html"><code>Isla.Run</code></a> runs Isla traces.</p><p>Due to the semantic of a register access being the register at the beginning of the trace, all register writes are not done immediately but delayed and stored in the <code>context</code>.</p><p>Typing is enabled if <a href="../Context/index.html#val-typing_enabled"><code>Context.typing_enabled</code></a> returns true for functions that take a context. For other functions, typing is enabled if the <code>dwarf</code> optional argument is passed</p></header><div class="spec module" id="module-Ctxt"><a href="#module-Ctxt" class="anchor"></a><code><span class="keyword">module</span> Ctxt = <a href="../index.html#module-Context">Context</a></code></div><dl><dt class="spec type" id="type-ctxt"><a href="#type-ctxt" class="anchor"></a><code><span class="keyword">type</span> ctxt</code><code> = <a href="../Context/index.html#type-t">Ctxt.t</a></code></dt></dl><dl><dt class="spec value" id="val-expand"><a href="#val-expand" class="anchor"></a><code><span class="keyword">val</span> expand : <span>ctxt:<a href="index.html#type-ctxt">ctxt</a></span> <span>&#45;&gt;</span> <a href="../Base/index.html#type-exp">Base.exp</a> <span>&#45;&gt;</span> <a href="../../State/index.html#type-exp">State.exp</a></code></dt><dd><p>Expand a <a href="../index.html"><code>Trace</code></a> expression to a <a href="../../State/index.html"><code>State</code></a> expression, using the context</p></dd></dl><dl><dt class="spec value" id="val-expand_tval"><a href="#val-expand_tval" class="anchor"></a><code><span class="keyword">val</span> expand_tval : <span>ctxt:<a href="index.html#type-ctxt">ctxt</a></span> <span>&#45;&gt;</span> <a href="../Base/index.html#type-exp">Base.exp</a> <span>&#45;&gt;</span> <a href="../../State/index.html#type-tval">State.tval</a></code></dt><dd><p>Expand a Trace expression to a typed State expression, using the context.</p><p>If the context enables typing, the expression will actually be typed, otherwise the type will be <code>None</code></p></dd></dl><dl><dt class="spec value" id="val-event_mut"><a href="#val-event_mut" class="anchor"></a><code><span class="keyword">val</span> event_mut : <span>ctxt:<a href="index.html#type-ctxt">ctxt</a></span> <span>&#45;&gt;</span> <a href="../Base/index.html#type-event">Base.event</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Run the event. The modified state is the one inside <code>ctxt</code>.</p></dd></dl><dl><dt class="spec value" id="val-trace_mut"><a href="#val-trace_mut" class="anchor"></a><code><span class="keyword">val</span> trace_mut : <span>?&#8288;dwarf:<a href="../../Dw/index.html#type-t">Dw.t</a></span> <span>&#45;&gt;</span> <a href="../../State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> <a href="../Base/index.html#type-t">Base.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Run a trace on the provided state by mutation. Enable typing if <code>dwarf</code> is provided</p></dd></dl><dl><dt class="spec value" id="val-trace"><a href="#val-trace" class="anchor"></a><code><span class="keyword">val</span> trace : <span>?&#8288;dwarf:<a href="../../Dw/index.html#type-t">Dw.t</a></span> <span>&#45;&gt;</span> <a href="../../State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> <a href="../Base/index.html#type-t">Base.t</a> <span>&#45;&gt;</span> <a href="../../State/index.html#type-t">State.t</a></code></dt><dd><p>Run a trace on the provided state by returning an updated copy.</p></dd></dl><dl><dt class="spec value" id="val-trace_pc_mut"><a href="#val-trace_pc_mut" class="anchor"></a><code><span class="keyword">val</span> trace_pc_mut : <span>?&#8288;dwarf:<a href="../../Dw/index.html#type-t">Dw.t</a></span> <span>&#45;&gt;</span> <span>next:int</span> <span>&#45;&gt;</span> <a href="../../State/index.html#type-t">State.t</a> <span>&#45;&gt;</span> <a href="../Base/index.html#type-t">Base.t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Run a trace by mutating the provided state including it's PC. If the trace modified the PC then nothing is done otherwise <code>next</code> is added to it.</p><p>Thus this function automatically handle moving the PC for fall-through instruction</p></dd></dl></div></body></html>