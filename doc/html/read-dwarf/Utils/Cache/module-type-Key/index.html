<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Key (read-dwarf.Utils.Cache.Key)</title><link rel="stylesheet" href="../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../../../index.html">read-dwarf</a> &#x00BB; <a href="../../index.html">Utils</a> &#x00BB; <a href="../index.html">Cache</a> &#x00BB; Key</nav><h1>Module type <code>Cache.Key</code></h1><p>The interface of keys.</p><p>Key are use to index values in the cache, however instead of using the key directly as a file name, the hexadecimal <a href="index.html#val-hash"><code>hash</code></a> of the key is used trough <a href="../index.html#val-int_to_file"><code>int_to_file</code></a>. See <a href="../Make/index.html"><code>Make</code></a> for more details.</p><p>There are two main way of managing keys:</p><ul><li>The hash is injective, in which case there is no need for extra information.</li><li>The hash is not injective, in which case extra information required to disambiguate between different value with the same hash can be used. This information is stored in the file obtained with <a href="../index.html#val-to_keyfile"><code>to_keyfile</code></a> file. See <a href="index.html#val-to_file"><code>to_file</code></a>.</li></ul><p>An implementation can do a mix of both i.e. Putting extra information only for value for which there is hash collision.</p></header><div><div class="spec include"><div class="doc"><details open="open"><summary><span class="def"><code><span class="keyword">include</span> Stdlib.Hashtbl.HashedType</code></span></summary><dl><dt class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><code><span class="keyword">type</span> t</code></dt></dl><dl><dt class="spec value" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span class="keyword">val</span> equal : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> bool</code></dt><dt class="spec value" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span class="keyword">val</span> hash : <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> int</code></dt></dl></details></div></div></div><dl><dt class="spec value" id="val-to_file"><a href="#val-to_file" class="anchor"></a><code><span class="keyword">val</span> to_file : string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Write the necessary information to retrieve the key in a file. The filename supplied is without the key extension. The implementer must call <a href="../index.html#val-to_keyfile"><code>to_keyfile</code></a> on it</p></dd></dl><dl><dt class="spec value" id="val-of_file"><a href="#val-of_file" class="anchor"></a><code><span class="keyword">val</span> of_file : int <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <a href="index.html#type-t">t</a></code></dt><dd><p>Build back the key from the hash and a storage file. The filename supplied is without the key extension. The implementer must call <a href="../index.html#val-to_keyfile"><code>to_keyfile</code></a> on it.</p><p>If you start with a <code>key</code> and a <code>file</code>, then doing <code>to_file file key</code> and then <code>of_file (hash key) file</code> must return something <a href="index.html#val-equal"><code>equal</code></a> to key.</p></dd></dl></div></body></html>