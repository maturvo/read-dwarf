<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Pp (read-dwarf.Utils.Pp)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> – <a href="../../index.html">read-dwarf</a> &#x00BB; <a href="../index.html">Utils</a> &#x00BB; Pp</nav><h1>Module <code>Utils.Pp</code></h1><nav class="toc"><ul><li><a href="#rendering-documents">Rendering documents</a><ul><li><a href="#rendfmt">Render documents in format strings</a></li></ul></li><li><a href="#combinators">Combinators</a></li><li><a href="#special-printer">Special printer</a></li></ul></nav></header><aside><p>This module provide all pretty printing functionality. It's main goal is not directly handle the output but to handle how to layout complex data structure in a text format.</p><p>The main idea of this library is to separate the layout description phase from the part where you actually lay out the thing to pretty print. Thus the two stage of pretty printing is first to generate a <a href="index.html#type-document"><code>document</code></a> object describing the layout from the object to print and then render the document to the string using one of the printing</p></aside><div><div class="spec include"><div class="doc"><p>This is a wrapper around the <a href="http://cambium.inria.fr/~fpottier/pprint/doc/pprint/pprint/index.html"><code>pprint</code></a> library</p><details open="open"><summary><span class="def"><code><span class="keyword">include</span> PPrint</code></span></summary><dl><dt class="spec type" id="type-document"><a href="#type-document" class="anchor"></a><code><span class="keyword">type</span> document</code><code> = PPrintEngine.document</code></dt></dl><dl><dt class="spec value" id="val-empty"><a href="#val-empty" class="anchor"></a><code><span class="keyword">val</span> empty : <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-char"><a href="#val-char" class="anchor"></a><code><span class="keyword">val</span> char : char <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-string"><a href="#val-string" class="anchor"></a><code><span class="keyword">val</span> string : string <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-substring"><a href="#val-substring" class="anchor"></a><code><span class="keyword">val</span> substring : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-fancystring"><a href="#val-fancystring" class="anchor"></a><code><span class="keyword">val</span> fancystring : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-fancysubstring"><a href="#val-fancysubstring" class="anchor"></a><code><span class="keyword">val</span> fancysubstring : string <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-utf8string"><a href="#val-utf8string" class="anchor"></a><code><span class="keyword">val</span> utf8string : string <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-utf8format"><a href="#val-utf8format" class="anchor"></a><code><span class="keyword">val</span> utf8format : <span><span>(<span class="type-var">'a</span>, unit, string, <a href="index.html#type-document">document</a>)</span> Stdlib.format4</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dt class="spec value" id="val-hardline"><a href="#val-hardline" class="anchor"></a><code><span class="keyword">val</span> hardline : <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-blank"><a href="#val-blank" class="anchor"></a><code><span class="keyword">val</span> blank : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-break"><a href="#val-break" class="anchor"></a><code><span class="keyword">val</span> break : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-(^^)"><a href="#val-(^^)" class="anchor"></a><code><span class="keyword">val</span> (^^) : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-nest"><a href="#val-nest" class="anchor"></a><code><span class="keyword">val</span> nest : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-group"><a href="#val-group" class="anchor"></a><code><span class="keyword">val</span> group : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-ifflat"><a href="#val-ifflat" class="anchor"></a><code><span class="keyword">val</span> ifflat : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-align"><a href="#val-align" class="anchor"></a><code><span class="keyword">val</span> align : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt></dl><dl><dt class="spec type" id="type-point"><a href="#type-point" class="anchor"></a><code><span class="keyword">type</span> point</code><code> = int * int</code></dt><dt class="spec type" id="type-range"><a href="#type-range" class="anchor"></a><code><span class="keyword">type</span> range</code><code> = <a href="index.html#type-point">point</a> * <a href="index.html#type-point">point</a></code></dt></dl><dl><dt class="spec value" id="val-range"><a href="#val-range" class="anchor"></a><code><span class="keyword">val</span> range : <span>(<a href="index.html#type-range">range</a> <span>&#45;&gt;</span> unit)</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt></dl><div class="spec module" id="module-ToChannel"><a href="#module-ToChannel" class="anchor"></a><code><span class="keyword">module</span> ToChannel = PPrintEngine.ToChannel</code></div><div class="spec module" id="module-ToBuffer"><a href="#module-ToBuffer" class="anchor"></a><code><span class="keyword">module</span> ToBuffer = PPrintEngine.ToBuffer</code></div><div class="spec module" id="module-ToFormatter"><a href="#module-ToFormatter" class="anchor"></a><code><span class="keyword">module</span> ToFormatter = PPrintEngine.ToFormatter</code></div><dl><dt class="spec type" id="type-requirement"><a href="#type-requirement" class="anchor"></a><code><span class="keyword">type</span> requirement</code><code> = int</code></dt></dl><dl><dt class="spec value" id="val-infinity"><a href="#val-infinity" class="anchor"></a><code><span class="keyword">val</span> infinity : <a href="index.html#type-requirement">requirement</a></code></dt></dl><div class="spec class-type" id="class-type-output"><a href="#class-type-output" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-output/index.html">output</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec type" id="type-state"><a href="#type-state" class="anchor"></a><code><span class="keyword">type</span> state</code><code> = PPrintEngine.state</code><code> = </code><code>{</code><table class="record"><tr id="type-state.width" class="anchored"><td class="def field"><a href="#type-state.width" class="anchor"></a><code>width : int;</code></td></tr><tr id="type-state.ribbon" class="anchored"><td class="def field"><a href="#type-state.ribbon" class="anchor"></a><code>ribbon : int;</code></td></tr><tr id="type-state.last_indent" class="anchored"><td class="def field"><a href="#type-state.last_indent" class="anchor"></a><code><span class="keyword">mutable</span> last_indent : int;</code></td></tr><tr id="type-state.line" class="anchored"><td class="def field"><a href="#type-state.line" class="anchor"></a><code><span class="keyword">mutable</span> line : int;</code></td></tr><tr id="type-state.column" class="anchored"><td class="def field"><a href="#type-state.column" class="anchor"></a><code><span class="keyword">mutable</span> column : int;</code></td></tr></table><code>}</code></dt></dl><div class="spec class-type" id="class-type-custom"><a href="#class-type-custom" class="anchor"></a><code><span class="keyword">class</span> <span class="keyword">type</span>  <a href="class-type-custom/index.html">custom</a> = <span class="keyword">object</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-custom"><a href="#val-custom" class="anchor"></a><code><span class="keyword">val</span> custom : <a href="class-type-custom/index.html">custom</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dt class="spec value" id="val-requirement"><a href="#val-requirement" class="anchor"></a><code><span class="keyword">val</span> requirement : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <a href="index.html#type-requirement">requirement</a></code></dt><dt class="spec value" id="val-pretty"><a href="#val-pretty" class="anchor"></a><code><span class="keyword">val</span> pretty : <a href="class-type-output/index.html">output</a> <span>&#45;&gt;</span> <a href="index.html#type-state">state</a> <span>&#45;&gt;</span> int <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-compact"><a href="#val-compact" class="anchor"></a><code><span class="keyword">val</span> compact : <a href="class-type-output/index.html">output</a> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> unit</code></dt><dt class="spec value" id="val-lparen"><a href="#val-lparen" class="anchor"></a><code><span class="keyword">val</span> lparen : PPrintEngine.document</code></dt><dt class="spec value" id="val-rparen"><a href="#val-rparen" class="anchor"></a><code><span class="keyword">val</span> rparen : PPrintEngine.document</code></dt><dt class="spec value" id="val-langle"><a href="#val-langle" class="anchor"></a><code><span class="keyword">val</span> langle : PPrintEngine.document</code></dt><dt class="spec value" id="val-rangle"><a href="#val-rangle" class="anchor"></a><code><span class="keyword">val</span> rangle : PPrintEngine.document</code></dt><dt class="spec value" id="val-lbrace"><a href="#val-lbrace" class="anchor"></a><code><span class="keyword">val</span> lbrace : PPrintEngine.document</code></dt><dt class="spec value" id="val-rbrace"><a href="#val-rbrace" class="anchor"></a><code><span class="keyword">val</span> rbrace : PPrintEngine.document</code></dt><dt class="spec value" id="val-lbracket"><a href="#val-lbracket" class="anchor"></a><code><span class="keyword">val</span> lbracket : PPrintEngine.document</code></dt><dt class="spec value" id="val-rbracket"><a href="#val-rbracket" class="anchor"></a><code><span class="keyword">val</span> rbracket : PPrintEngine.document</code></dt><dt class="spec value" id="val-squote"><a href="#val-squote" class="anchor"></a><code><span class="keyword">val</span> squote : PPrintEngine.document</code></dt><dt class="spec value" id="val-dquote"><a href="#val-dquote" class="anchor"></a><code><span class="keyword">val</span> dquote : PPrintEngine.document</code></dt><dt class="spec value" id="val-bquote"><a href="#val-bquote" class="anchor"></a><code><span class="keyword">val</span> bquote : PPrintEngine.document</code></dt><dt class="spec value" id="val-semi"><a href="#val-semi" class="anchor"></a><code><span class="keyword">val</span> semi : PPrintEngine.document</code></dt><dt class="spec value" id="val-colon"><a href="#val-colon" class="anchor"></a><code><span class="keyword">val</span> colon : PPrintEngine.document</code></dt><dt class="spec value" id="val-comma"><a href="#val-comma" class="anchor"></a><code><span class="keyword">val</span> comma : PPrintEngine.document</code></dt><dt class="spec value" id="val-space"><a href="#val-space" class="anchor"></a><code><span class="keyword">val</span> space : PPrintEngine.document</code></dt><dt class="spec value" id="val-dot"><a href="#val-dot" class="anchor"></a><code><span class="keyword">val</span> dot : PPrintEngine.document</code></dt><dt class="spec value" id="val-sharp"><a href="#val-sharp" class="anchor"></a><code><span class="keyword">val</span> sharp : PPrintEngine.document</code></dt><dt class="spec value" id="val-slash"><a href="#val-slash" class="anchor"></a><code><span class="keyword">val</span> slash : PPrintEngine.document</code></dt><dt class="spec value" id="val-backslash"><a href="#val-backslash" class="anchor"></a><code><span class="keyword">val</span> backslash : PPrintEngine.document</code></dt><dt class="spec value" id="val-equals"><a href="#val-equals" class="anchor"></a><code><span class="keyword">val</span> equals : PPrintEngine.document</code></dt><dt class="spec value" id="val-qmark"><a href="#val-qmark" class="anchor"></a><code><span class="keyword">val</span> qmark : PPrintEngine.document</code></dt><dt class="spec value" id="val-tilde"><a href="#val-tilde" class="anchor"></a><code><span class="keyword">val</span> tilde : PPrintEngine.document</code></dt><dt class="spec value" id="val-at"><a href="#val-at" class="anchor"></a><code><span class="keyword">val</span> at : PPrintEngine.document</code></dt><dt class="spec value" id="val-percent"><a href="#val-percent" class="anchor"></a><code><span class="keyword">val</span> percent : PPrintEngine.document</code></dt><dt class="spec value" id="val-dollar"><a href="#val-dollar" class="anchor"></a><code><span class="keyword">val</span> dollar : PPrintEngine.document</code></dt><dt class="spec value" id="val-caret"><a href="#val-caret" class="anchor"></a><code><span class="keyword">val</span> caret : PPrintEngine.document</code></dt><dt class="spec value" id="val-ampersand"><a href="#val-ampersand" class="anchor"></a><code><span class="keyword">val</span> ampersand : PPrintEngine.document</code></dt><dt class="spec value" id="val-star"><a href="#val-star" class="anchor"></a><code><span class="keyword">val</span> star : PPrintEngine.document</code></dt><dt class="spec value" id="val-plus"><a href="#val-plus" class="anchor"></a><code><span class="keyword">val</span> plus : PPrintEngine.document</code></dt><dt class="spec value" id="val-minus"><a href="#val-minus" class="anchor"></a><code><span class="keyword">val</span> minus : PPrintEngine.document</code></dt><dt class="spec value" id="val-underscore"><a href="#val-underscore" class="anchor"></a><code><span class="keyword">val</span> underscore : PPrintEngine.document</code></dt><dt class="spec value" id="val-bang"><a href="#val-bang" class="anchor"></a><code><span class="keyword">val</span> bang : PPrintEngine.document</code></dt><dt class="spec value" id="val-bar"><a href="#val-bar" class="anchor"></a><code><span class="keyword">val</span> bar : PPrintEngine.document</code></dt><dt class="spec value" id="val-precede"><a href="#val-precede" class="anchor"></a><code><span class="keyword">val</span> precede : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-terminate"><a href="#val-terminate" class="anchor"></a><code><span class="keyword">val</span> terminate : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-enclose"><a href="#val-enclose" class="anchor"></a><code><span class="keyword">val</span> enclose : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-squotes"><a href="#val-squotes" class="anchor"></a><code><span class="keyword">val</span> squotes : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-dquotes"><a href="#val-dquotes" class="anchor"></a><code><span class="keyword">val</span> dquotes : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-bquotes"><a href="#val-bquotes" class="anchor"></a><code><span class="keyword">val</span> bquotes : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-braces"><a href="#val-braces" class="anchor"></a><code><span class="keyword">val</span> braces : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-parens"><a href="#val-parens" class="anchor"></a><code><span class="keyword">val</span> parens : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-angles"><a href="#val-angles" class="anchor"></a><code><span class="keyword">val</span> angles : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-brackets"><a href="#val-brackets" class="anchor"></a><code><span class="keyword">val</span> brackets : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-twice"><a href="#val-twice" class="anchor"></a><code><span class="keyword">val</span> twice : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-repeat"><a href="#val-repeat" class="anchor"></a><code><span class="keyword">val</span> repeat : int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-concat"><a href="#val-concat" class="anchor"></a><code><span class="keyword">val</span> concat : <span>PPrintEngine.document list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-separate"><a href="#val-separate" class="anchor"></a><code><span class="keyword">val</span> separate : PPrintEngine.document <span>&#45;&gt;</span> <span>PPrintEngine.document list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-concat_map"><a href="#val-concat_map" class="anchor"></a><code><span class="keyword">val</span> concat_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> PPrintEngine.document)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-separate_map"><a href="#val-separate_map" class="anchor"></a><code><span class="keyword">val</span> separate_map : PPrintEngine.document <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> PPrintEngine.document)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-separate2"><a href="#val-separate2" class="anchor"></a><code><span class="keyword">val</span> separate2 : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> <span>PPrintEngine.document list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-optional"><a href="#val-optional" class="anchor"></a><code><span class="keyword">val</span> optional : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> PPrintEngine.document)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-lines"><a href="#val-lines" class="anchor"></a><code><span class="keyword">val</span> lines : string <span>&#45;&gt;</span> <span>PPrintEngine.document list</span></code></dt><dt class="spec value" id="val-arbitrary_string"><a href="#val-arbitrary_string" class="anchor"></a><code><span class="keyword">val</span> arbitrary_string : string <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-words"><a href="#val-words" class="anchor"></a><code><span class="keyword">val</span> words : string <span>&#45;&gt;</span> <span>PPrintEngine.document list</span></code></dt><dt class="spec value" id="val-split"><a href="#val-split" class="anchor"></a><code><span class="keyword">val</span> split : <span>(char <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> string <span>&#45;&gt;</span> <span>PPrintEngine.document list</span></code></dt><dt class="spec value" id="val-flow"><a href="#val-flow" class="anchor"></a><code><span class="keyword">val</span> flow : PPrintEngine.document <span>&#45;&gt;</span> <span>PPrintEngine.document list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-flow_map"><a href="#val-flow_map" class="anchor"></a><code><span class="keyword">val</span> flow_map : PPrintEngine.document <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> PPrintEngine.document)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-url"><a href="#val-url" class="anchor"></a><code><span class="keyword">val</span> url : string <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-hang"><a href="#val-hang" class="anchor"></a><code><span class="keyword">val</span> hang : int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-prefix"><a href="#val-prefix" class="anchor"></a><code><span class="keyword">val</span> prefix : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-jump"><a href="#val-jump" class="anchor"></a><code><span class="keyword">val</span> jump : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-infix"><a href="#val-infix" class="anchor"></a><code><span class="keyword">val</span> infix : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-surround"><a href="#val-surround" class="anchor"></a><code><span class="keyword">val</span> surround : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-soft_surround"><a href="#val-soft_surround" class="anchor"></a><code><span class="keyword">val</span> soft_surround : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-surround_separate"><a href="#val-surround_separate" class="anchor"></a><code><span class="keyword">val</span> surround_separate : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> <span>PPrintEngine.document list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-surround_separate_map"><a href="#val-surround_separate_map" class="anchor"></a><code><span class="keyword">val</span> surround_separate_map : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> PPrintEngine.document)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-(!^)"><a href="#val-(!^)" class="anchor"></a><code><span class="keyword">val</span> (!^) : string <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-(^/^)"><a href="#val-(^/^)" class="anchor"></a><code><span class="keyword">val</span> (^/^) : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dt class="spec value" id="val-(^//^)"><a href="#val-(^//^)" class="anchor"></a><code><span class="keyword">val</span> (^//^) : PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document <span>&#45;&gt;</span> PPrintEngine.document</code></dt></dl><div class="spec module" id="module-OCaml"><a href="#module-OCaml" class="anchor"></a><code><span class="keyword">module</span> OCaml = PPrintOCaml</code></div></details></div></div></div><section><header><h2 id="rendering-documents"><a href="#rendering-documents" class="anchor"></a>Rendering documents</h2><p>This section provide function to render documents in a text output.</p><p>However unless you know what you are doing, you may prefer using the <a href="../Logs/index.html"><code>Logs</code></a> module with the function of &quot;<a href="index.html#rendfmt"><span>Render documents in format strings</span></a>&quot;, instead of calling those function directly.</p></header><dl><dt class="spec value" id="val-fprint"><a href="#val-fprint" class="anchor"></a><code><span class="keyword">val</span> fprint : Stdlib.out_channel <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Render the document in a pretty manner on the provided <code>out_channel</code></p></dd></dl><dl><dt class="spec value" id="val-fprintln"><a href="#val-fprintln" class="anchor"></a><code><span class="keyword">val</span> fprintln : Stdlib.out_channel <span>&#45;&gt;</span> <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Render the document in a compact manner on the provided <code>out_channel</code></p></dd></dl><dl><dt class="spec value" id="val-print"><a href="#val-print" class="anchor"></a><code><span class="keyword">val</span> print : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Print the document on <code>stdout</code>. The general way of</p></dd></dl><dl><dt class="spec value" id="val-println"><a href="#val-println" class="anchor"></a><code><span class="keyword">val</span> println : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Print the document on <code>stdout</code>, then a endline, then flush</p></dd></dl><dl><dt class="spec value" id="val-eprintln"><a href="#val-eprintln" class="anchor"></a><code><span class="keyword">val</span> eprintln : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> unit</code></dt><dd><p>Print the document on <code>stderr</code>, then a endline, then flush</p></dd></dl><dl><dt class="spec value" id="val-sprintc"><a href="#val-sprintc" class="anchor"></a><code><span class="keyword">val</span> sprintc : <a href="index.html#module-ToBuffer">ToBuffer</a>.document <span>&#45;&gt;</span> string</code></dt><dd><p>Print the document in a string, in a compact manner</p></dd></dl><dl><dt class="spec value" id="val-sprint"><a href="#val-sprint" class="anchor"></a><code><span class="keyword">val</span> sprint : <a href="index.html#module-ToBuffer">ToBuffer</a>.document <span>&#45;&gt;</span> string</code></dt><dd><p>Print the document in a string, in a pretty manner</p></dd></dl><section><header><h3 id="rendfmt"><a href="#rendfmt" class="anchor"></a>Render documents in format strings</h3><p>This sub section provide functions to embed a <code>pprint</code> in a usual <code>printf</code>-like format string.</p><p>The general usage is to use the <code>%t</code> format and then appropriate mapping function. For example:</p><pre><code class="ml">Printf.printf &quot;Documents: %t&quot; Pp.(top printer object)</code></pre><p>This is lazy which means that if you use this in disabled debug messages, the object will not even be read. The only cost will be to allocate the closure on the minor GC.</p><p>Wheter to use <a href="index.html#val-top"><code>top</code></a> or <a href="index.html#val-tos"><code>tos</code></a> depends if the final output is an output stream or a plain string.</p></header><dl><dt class="spec value" id="val-top"><a href="#val-top" class="anchor"></a><code><span class="keyword">val</span> top : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> Stdlib.out_channel <span>&#45;&gt;</span> unit</code></dt><dd><p>Convert a document printer to a Printf format string via <code>%t</code> for function outputing on an <code>out_channel</code></p></dd></dl><dl><dt class="spec value" id="val-topi"><a href="#val-topi" class="anchor"></a><code><span class="keyword">val</span> topi : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> Stdlib.out_channel <span>&#45;&gt;</span> unit</code></dt><dd><p>Same as <a href="index.html#val-top"><code>top</code></a> but add 4 space of indentation everywhere on the object. The general use is:</p><pre><code class="ml">Printf.printf &quot;Object:\n%t\n&quot; Pp.(topi printer object)</code></pre><p>and it will print:</p><pre>Object:
    object line 1
    object line 2</pre></dd></dl><dl><dt class="spec value" id="val-tos"><a href="#val-tos" class="anchor"></a><code><span class="keyword">val</span> tos : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#module-ToBuffer">ToBuffer</a>.document)</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> string</code></dt><dd><p>Convert a document printer to a Printf format string via <code>%t</code> for function outputing in a string</p></dd></dl></section></section><section><header><h2 id="combinators"><a href="#combinators" class="anchor"></a>Combinators</h2><p>This section provide function to create documents from various object as well as combinators to generate documents from more complex objects.</p></header><dl><dt class="spec value" id="val-dprintf"><a href="#val-dprintf" class="anchor"></a><code><span class="keyword">val</span> dprintf : <span><span>(<span class="type-var">'a</span>, unit, string, PPrintEngine.document)</span> Stdlib.format4</span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Printf like function that returns a document of the formatted string. In the end, it's just a string document, nothing more complex</p></dd></dl><dl><dt class="spec value" id="val-space"><a href="#val-space" class="anchor"></a><code><span class="keyword">val</span> space : <a href="index.html#type-document">document</a></code></dt><dd><p>A breakable space</p></dd></dl><dl><dt class="spec value" id="val-nbspace"><a href="#val-nbspace" class="anchor"></a><code><span class="keyword">val</span> nbspace : <a href="index.html#type-document">document</a></code></dt><dd><p>A non-breakable space (equivalent to <code>char ' '</code>)</p></dd></dl><dl><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : bool <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dd><p>Print a boolean as &quot;true&quot; or &quot;false&quot;</p></dd></dl><dl><dt class="spec value" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">val</span> int : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print an int in decimal</p></dd></dl><dl><dt class="spec value" id="val-hex"><a href="#val-hex" class="anchor"></a><code><span class="keyword">val</span> hex : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print an int in hexadecimal as if it was unsigned</p></dd></dl><dl><dt class="spec value" id="val-shex"><a href="#val-shex" class="anchor"></a><code><span class="keyword">val</span> shex : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print an int in hexadecimal with a sign: <code>-1</code> will be printed to <code>-0x1</code></p></dd></dl><dl><dt class="spec value" id="val-ptr"><a href="#val-ptr" class="anchor"></a><code><span class="keyword">val</span> ptr : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print an int in hexadecimal with the <code>0x</code> prefix</p></dd></dl><dl><dt class="spec value" id="val-byte"><a href="#val-byte" class="anchor"></a><code><span class="keyword">val</span> byte : char <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print a byte as 2 hexadecimal digit</p></dd></dl><dl><dt class="spec value" id="val-hex16"><a href="#val-hex16" class="anchor"></a><code><span class="keyword">val</span> hex16 : int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print an unsigned 16 bit integer as 4 hexadecimal digit</p></dd></dl><dl><dt class="spec value" id="val-hex32"><a href="#val-hex32" class="anchor"></a><code><span class="keyword">val</span> hex32 : int32 <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print an unsigned 32 bit integer as 8 hexadecimal digit</p></dd></dl><dl><dt class="spec value" id="val-hex64"><a href="#val-hex64" class="anchor"></a><code><span class="keyword">val</span> hex64 : int64 <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print an unsigned 64 bit integer as 16 hexadecimal digit</p></dd></dl><dl><dt class="spec value" id="val-array"><a href="#val-array" class="anchor"></a><code><span class="keyword">val</span> array : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation</code></dt><dd><p>Print an array when provided with an element printer</p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation</code></dt><dd><p>Print an list when provided with an element printer</p></dd></dl><dl><dt class="spec value" id="val-opt"><a href="#val-opt" class="anchor"></a><code><span class="keyword">val</span> opt : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> option</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation</code></dt><dd><p>Print an option when provided with an element printer</p></dd></dl><dl><dt class="spec value" id="val-pair"><a href="#val-pair" class="anchor"></a><code><span class="keyword">val</span> pair : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation</code></dt><dd><p>Print an pair when provided with both element printers</p></dd></dl><dl><dt class="spec value" id="val-tup3"><a href="#val-tup3" class="anchor"></a><code><span class="keyword">val</span> tup3 : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'c</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>)</span> <span>&#45;&gt;</span> <a href="index.html#module-OCaml">OCaml</a>.representation</code></dt><dd><p>Print an 3-sized tuple when provided with all three element printers</p></dd></dl><dl><dt class="spec value" id="val-qstring"><a href="#val-qstring" class="anchor"></a><code><span class="keyword">val</span> qstring : string <span>&#45;&gt;</span> PPrintEngine.document</code></dt><dd><p>Print a quoted string</p></dd></dl><dl><dt class="spec value" id="val-erase"><a href="#val-erase" class="anchor"></a><code><span class="keyword">val</span> erase : <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Ignore the input and print nothing</p></dd></dl><dl><dt class="spec value" id="val-mapping"><a href="#val-mapping" class="anchor"></a><code><span class="keyword">val</span> mapping : string <span>&#45;&gt;</span> <span><span>(<a href="index.html#type-document">document</a> * <a href="index.html#type-document">document</a>)</span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Prints a mapping with this style:</p><pre>name{
    key -&gt; value;
    key -&gt; value;
    key -&gt; value;
}</pre></dd></dl><dl><dt class="spec value" id="val-hashtbl"><a href="#val-hashtbl" class="anchor"></a><code><span class="keyword">val</span> hashtbl : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> Stdlib.Hashtbl.t</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print a Hashtbl using <a href="index.html#val-mapping"><code>mapping</code></a></p></dd></dl><dl><dt class="spec value" id="val-hashtbl_sorted"><a href="#val-hashtbl_sorted" class="anchor"></a><code><span class="keyword">val</span> hashtbl_sorted : <span>compare:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span>, <span class="type-var">'b</span>)</span> Stdlib.Hashtbl.t</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print a sorted Hashtbl using <a href="index.html#val-mapping"><code>mapping</code></a></p></dd></dl><dl><dt class="spec value" id="val-record"><a href="#val-record" class="anchor"></a><code><span class="keyword">val</span> record : <a href="index.html#module-OCaml">OCaml</a>.type_name <span>&#45;&gt;</span> <span><span>(<a href="index.html#module-OCaml">OCaml</a>.record_field * <a href="index.html#module-OCaml">OCaml</a>.representation)</span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Print a record in the format</p><pre>name{
    field = value;
    field = value;
    field = value;
}</pre></dd></dl><dl><dt class="spec value" id="val-separate_mapi"><a href="#val-separate_mapi" class="anchor"></a><code><span class="keyword">val</span> separate_mapi : <a href="index.html#type-document">document</a> <span>&#45;&gt;</span> <span>(int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Like <a href="http://cambium.inria.fr/~fpottier/pprint/doc/pprint/pprint/index.html#val-separate_map"><code>separate_map</code></a> but with the index</p></dd></dl><dl><dt class="spec value" id="val-concat_array_map"><a href="#val-concat_array_map" class="anchor"></a><code><span class="keyword">val</span> concat_array_map : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Concatenate the documents produced by the function over the array</p></dd></dl><dl><dt class="spec value" id="val-concat_array_mapi"><a href="#val-concat_array_mapi" class="anchor"></a><code><span class="keyword">val</span> concat_array_mapi : <span>(int <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Concatenate the document produced by the function on the array. The function also gets the index of the element</p></dd></dl></section><section><header><h2 id="special-printer"><a href="#special-printer" class="anchor"></a>Special printer</h2></header><dl><dt class="spec value" id="val-status"><a href="#val-status" class="anchor"></a><code><span class="keyword">val</span> status : <span>(int <span>&#45;&gt;</span> <a href="index.html#type-document">document</a>)</span> <span>&#45;&gt;</span> Unix.process_status <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Prints a <code>Unix.process_status</code> with an integer printer</p></dd></dl><dl><dt class="spec value" id="val-statusi"><a href="#val-statusi" class="anchor"></a><code><span class="keyword">val</span> statusi : Unix.process_status <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Prints a <code>Unix.process_status</code> with decimal integers</p></dd></dl><dl><dt class="spec value" id="val-statush"><a href="#val-statush" class="anchor"></a><code><span class="keyword">val</span> statush : Unix.process_status <span>&#45;&gt;</span> <a href="index.html#type-document">document</a></code></dt><dd><p>Prints a <code>Unix.process_status</code> with hexadecimal integers</p></dd></dl></section></div></body></html>